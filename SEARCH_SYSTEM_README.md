# ูุธุงู ุงูุจุญุซ ุงูุดุงูู ุงููุทูุฑ

ุชู ุชุทููุฑ ูุธุงู ุจุญุซ ุดุงูู ููุชูุฏู ูููุธุงู ูุชูุญ ุงูุจุญุซ ูู ุฌููุน ุงูุจูุงูุงุช ุจุทุฑููุฉ ุงุญุชุฑุงููุฉ ูุณุฑูุนุฉ.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ ุงูุจุญุซ ุงูุดุงูู
- ุงูุจุญุซ ูู ุฌููุน ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุชุงุฆุฌ ูุฑุชุจุฉ ุญุณุจ ุงูุตูุฉ
- ุงูุจุญุซ ุงูููุฑู ูุน ุงูุชุฃุฎูุฑ ุงูุฐูู (debouncing)
- ุฏุนู ุงูุจุญุซ ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

### ๐ ุฃููุงุน ุงูุจูุงูุงุช ุงููุฏุนููุฉ
- **ุงูููุงุชูุฑ**: ููุงุชูุฑ ุงููุจูุนุงุช ูุงููุดุชุฑูุงุช
- **ุงูุนููุงุก**: ุงูุจุญุซ ุจุงูุงุณูุ ุงููุงุชูุ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- **ุงูููุฑุฏูู**: ุฌููุน ุจูุงูุงุช ุงูููุฑุฏูู
- **ุงูุฃุตูุงู**: ุงูููุชุฌุงุช ูุน ุฏุนู ุงูุจุญุซ ุจุงูุจุงุฑููุฏ
- **ุงูุญุณุงุจุงุช**: ุญุณุงุจุงุช ุฏููู ุงูุญุณุงุจุงุช
- **ุงููุฑูุน**: ูุฑูุน ุงูุดุฑูุฉ
- **ุงููุฎุงุฒู**: ุฌููุน ุงููุฎุงุฒู
- **ุงููุฑุชุฌุนุงุช**: ูุฑุชุฌุนุงุช ุงููุจูุนุงุช
- **ุงูููุฏูุจูู**: ุจูุงูุงุช ุงูููุฏูุจูู
- **ุงูุตูุงุฏูู**: ุตูุงุฏูู ุงูููุฏ

### ๐ฏ ููููุงุช ุงููุธุงู

#### 1. `searchService.ts`
ุฎุฏูุฉ ุงูุจุญุซ ุงูุฑุฆูุณูุฉ ุงูุชู ุชุญุชูู ุนูู:
- `universalSearch()`: ุงูุจุญุซ ุงูุดุงูู ูู ุฌููุน ุงูุฌุฏุงูู
- `quickSearch()`: ุงูุจุญุซ ุงูุณุฑูุน ููุงูุชุฑุงุญุงุช
- `searchByBarcode()`: ุงูุจุญุซ ุจุงูุจุงุฑููุฏ
- ูุธุงู cache ุฐูู ูุชุญุณูู ุงูุฃุฏุงุก

#### 2. `Header.tsx`
ุชู ุชุทููุฑ ุงูููุฏุฑ ููุดูู:
- ุจุญุซ ููุฑู ูู ุณุทุญ ุงูููุชุจ
- ุจุญุซ ููุณุฏู ูู ุงูููุจุงูู
- ุนุฑุถ ุงููุชุงุฆุฌ ูุน ุงูุฃููููุงุช
- ุงูุชููู ุงููุจุงุดุฑ ูููุชุงุฆุฌ

#### 3. `AdvancedSearch.tsx`
ูููู ุงูุจุญุซ ุงููุชูุฏู ูุน:
- ููุงุชุฑ ูุชูุฏูุฉ ุญุณุจ ููุน ุงูุจูุงูุงุช
- ูุงุฌูุฉ ุงุญุชุฑุงููุฉ
- ูุชุงุฆุฌ ููุตูุฉ ูุน ุงูุฃูุตุงู

#### 4. `useSearch.ts`
Hook ูุฎุตุต ููุจุญุซ ูุชูุญ:
- ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุจุญุซ
- ุงูุจุญุซ ุงูุชููุงุฆู ุฃู ุงููุฏูู
- hooks ูุฎุตุตุฉ ููู ููุน ุจูุงูุงุช

#### 5. `QuickItemSearch.tsx`
ุจุญุซ ุณุฑูุน ููููุชุฌุงุช ูุน:
- ุฏุนู ุงูุจุญุซ ุจุงูุจุงุฑููุฏ
- ูุงุณุญ ุงูุจุงุฑููุฏ ุงููุฏูุฌ
- ุนุฑุถ ุชูุงุตูู ุงูููุชุฌ

#### 6. `QuickCustomerSearch.tsx`
ุจุญุซ ุณุฑูุน ููุนููุงุก ูุน:
- ุงูุจุญุซ ุจุงูุงุณู ูุงููุงุชู
- ุฎูุงุฑ ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ
- ุนุฑุถ ูุนูููุงุช ุงูุนููู

## ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงูุจุญุซ ูู ุงูููุฏุฑ
```tsx
// ุงูุจุญุซ ูุชุงุญ ุชููุงุฆูุงู ูู ุงูููุฏุฑ
// ูููู ุงูุจุญุซ ุจูุชุงุจุฉ ุฃู ุดูุก ูุงูุญุตูู ุนูู ูุชุงุฆุฌ ููุฑูุฉ
```

### 2. ุงุณุชุฎุฏุงู ุงูุจุญุซ ุงููุชูุฏู
```tsx
import AdvancedSearch from '@/components/AdvancedSearch';

<AdvancedSearch
  onResultSelect={(result) => {
    console.log('ุงููุชูุฌุฉ ุงููุฎุชุงุฑุฉ:', result);
    // ุงูุชุนุงูู ูุน ุงููุชูุฌุฉ
  }}
  enableFilters={true}
  defaultTypes={['invoice', 'customer']}
/>
```

### 3. ุงุณุชุฎุฏุงู Hook ุงูุจุญุซ
```tsx
import { useSearch } from '@/hooks/useSearch';

const MyComponent = () => {
  const {
    query,
    setQuery,
    results,
    isSearching,
    search,
    clearSearch
  } = useSearch({
    types: ['customer', 'item'],
    limit: 10,
    debounceMs: 300
  });

  return (
    <div>
      <input
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        placeholder="ุงุจุญุซ..."
      />
      {isSearching && <div>ุฌุงุฑู ุงูุจุญุซ...</div>}
      {results.map(result => (
        <div key={result.id}>{result.title}</div>
      ))}
    </div>
  );
};
```

### 4. ุงูุจุญุซ ูู ุงูููุชุฌุงุช
```tsx
import QuickItemSearch from '@/components/QuickItemSearch';

<QuickItemSearch
  onItemSelect={(item) => {
    console.log('ุชู ุงุฎุชูุงุฑ:', item);
  }}
  showBarcodeButton={true}
/>
```

### 5. ุงูุจุญุซ ูู ุงูุนููุงุก
```tsx
import QuickCustomerSearch from '@/components/QuickCustomerSearch';

<QuickCustomerSearch
  onCustomerSelect={(customer) => {
    console.log('ุชู ุงุฎุชูุงุฑ ุงูุนููู:', customer);
  }}
  showAddNew={true}
  onAddNew={() => {
    // ูุชุญ ูููุฐุฌ ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ
  }}
/>
```

## ุฎุตุงุฆุต ูุชูุฏูุฉ

### 1. ุงูุจุญุซ ุจุงูุจุงุฑููุฏ
```tsx
import { searchService } from '@/services/searchService';

const searchByBarcode = async (barcode: string) => {
  const results = await searchService.searchByBarcode(barcode);
  if (results.length > 0) {
    console.log('ุชู ุงูุนุซูุฑ ุนูู ุงูููุชุฌ:', results[0]);
  }
};
```

### 2. ุงูุจุญุซ ุงููุฎุตุต
```tsx
const customSearch = async () => {
  const results = await searchService.universalSearch({
    query: 'ุฃุญูุฏ',
    types: ['customer', 'invoice'],
    limit: 20
  });
  console.log('ุงููุชุงุฆุฌ:', results);
};
```

### 3. Hooks ูุฎุตุตุฉ
```tsx
import { 
  useInvoiceSearch,
  useCustomerSearch,
  useItemSearch 
} from '@/hooks/useSearch';

// ุงูุจุญุซ ูู ุงูููุงุชูุฑ ููุท
const { results: invoices } = useInvoiceSearch();

// ุงูุจุญุซ ูู ุงูุนููุงุก ููุท
const { results: customers } = useCustomerSearch();

// ุงูุจุญุซ ูู ุงูููุชุฌุงุช ููุท
const { results: items } = useItemSearch();
```

## ุชุญุณููุงุช ุงูุฃุฏุงุก

### 1. Cache System
- ุงููุชุงุฆุฌ ูุญููุธุฉ ูุคูุชุงู ููุฏุฉ 5 ุฏูุงุฆู
- ุชูููู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงุณุชุฌุงุจุฉ ุฃุณุฑุน ูููุณุชุฎุฏู

### 2. Debouncing
- ุชุฃุฎูุฑ ุงูุจุญุซ 300ms ุจุนุฏ ุงูุชููู ุนู ุงููุชุงุจุฉ
- ุชูููู ุงูุนูููุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

### 3. Lazy Loading
- ุชุญููู ุงููุชุงุฆุฌ ุญุณุจ ุงูุญุงุฌุฉ
- ุชุญุฏูุฏ ุนุฏุฏ ุงููุชุงุฆุฌ ุงููุนุฑูุถุฉ
- ุฃุฏุงุก ุฃูุถู ูุน ูููุงุช ุงูุจูุงูุงุช ุงููุจูุฑุฉ

## ุงูุชุฎุตูุต

### 1. ุฅุถุงูุฉ ููุน ุจูุงูุงุช ุฌุฏูุฏ
```tsx
// ูู searchService.ts
private async searchNewType(searchTerm: string): Promise<SearchResult[]> {
  const results: SearchResult[] = [];
  
  try {
    const snapshot = await getDocs(collection(db, 'new_collection'));
    // ููุทู ุงูุจุญุซ
    return results;
  } catch (error) {
    console.error('ุฎุทุฃ ูู ุงูุจุญุซ:', error);
    return [];
  }
}
```

### 2. ุชุฎุตูุต ูุงุฌูุฉ ุงูุจุญุซ
```tsx
// ุชุฎุตูุต ุงูุฃููุงู ูุงูุฃููููุงุช
const getResultTypeColor = (type: SearchResult['type']) => {
  const colors = {
    // ุฃููุงู ูุฎุตุตุฉ
  };
  return colors[type];
};
```

## ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุตูุญุฉ ุงูููุงุชูุฑ
ุฑุงุฌุน `InvoicesWithSearchExample.tsx` ููุซุงู ูุงูู ุนูู ุงุณุชุฎุฏุงู ุงููุธุงู ูู ุตูุญุฉ ุงูููุงุชูุฑ.

### ูุซุงู 2: ุงูุจุญุซ ุงูุนุงู
ุฑุงุฌุน `SearchPage.tsx` ูุตูุญุฉ ุงูุจุญุซ ุงูุฑุฆูุณูุฉ.

## ุงูุฃูุงู ูุงูุฃุฏุงุก

### 1. ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- ูุชู ุงูุจุญุซ ููุท ูู ุงูุจูุงูุงุช ุงููุณููุญุฉ ูููุณุชุฎุฏู
- ููุชุฑุฉ ุงููุชุงุฆุฌ ุญุณุจ ุตูุงุญูุงุช ุงููุณุชุฎุฏู

### 2. ุญูุงูุฉ ูู ุงูุงุณุชุนูุงูุงุช ุงูุถุงุฑุฉ
- ุชุญุฏูุฏ ุทูู ุงููุต ุงููุทููุจ ููุจุญุซ
- ุญูุงูุฉ ูู SQL Injection
- ุชุญุฏูุฏ ุนุฏุฏ ุงููุชุงุฆุฌ ุงููุนุฑูุถุฉ

### 3. ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ุชุชุจุน ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ
- ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
- ุชุญุณูู ุงูุงุณุชุนูุงูุงุช

## ุงููุชุทูุจุงุช

### Firebase Collections ุงููุทููุจุฉ:
- `sales_invoices`
- `customers`
- `suppliers`
- `inventory_items`
- `accounts`
- `branches`
- `warehouses`
- `sales_returns`
- `purchases_invoices`
- `delegates`
- `cashBoxes`

### Dependencies:
- `firebase/firestore`
- `framer-motion`
- `lucide-react`
- `React Router`

## ุงูุฏุนู ูุงูุตูุงูุฉ

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงูู ุชูููุฉุ ูุฑุฌู ูุฑุงุฌุนุฉ:
1. ูููุงุช ุงูุฃูุซูุฉ ุงููุฑููุฉ
2. ุงูุชุนูููุงุช ูู ุงูููุฏ
3. ูุซุงุฆู Firebase Firestore

---

ุชู ุชุทููุฑ ูุฐุง ุงููุธุงู ููููู ูุฑูุงู ููุงุจูุงู ููุชูุณุน ููุฏุนู ุฌููุน ุงุญุชูุงุฌุงุช ุงูุจุญุซ ูู ุงููุธุงู.

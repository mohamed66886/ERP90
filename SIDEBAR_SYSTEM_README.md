# تطوير النظام الديناميكي للقائمة الجانبية في ERP90

## نظرة عامة
تم تطوير نظام ديناميكي متقدم للقائمة الجانبية يتغير محتواها تلقائياً بناءً على القسم المختار من "الإجراءات السريعة" في لوحة التحكم.

## الملفات المطورة

### 1. Context للإدارة (SidebarContext.tsx)
- **المسار**: `/src/contexts/SidebarContext.tsx`
- **الوظيفة**: إدارة حالة القسم الحالي للقائمة الجانبية
- **الأقسام المدعومة**:
  - `financial` - الإدارة المالية
  - `hr` - الموارد البشرية
  - `warehouse` - إدارة المخازن
  - `projects` - إدارة المشاريع
  - `sales` - إدارة المبيعات
  - `purchase` - إدارة المشتريات
  - `contracts` - إدارة العقود
  - `equipment` - إدارة المعدات
  - `default` - القائمة الافتراضية

### 2. Hook للاستخدام (useSidebar.ts)
- **المسار**: `/src/hooks/useSidebar.ts`
- **الوظيفة**: Hook مخصص للوصول إلى context القائمة الجانبية

### 3. ملف القوائم الديناميكية (sidebarMenus.ts)
- **المسار**: `/src/utils/sidebarMenus.ts`
- **الوظيفة**: يحتوي على جميع قوائم الأقسام المختلفة
- **المميزات**:
  - قوائم مختصة لكل قسم
  - أيقونات ملونة مختلفة
  - روابط مخصصة لكل عنصر
  - قوائم فرعية منظمة

### 4. القائمة الجانبية المطورة (Sidebar.tsx)
- **المسار**: `/src/components/Sidebar.tsx`
- **التحديثات**:
  - استخدام النظام الديناميكي الجديد
  - عرض القوائم بناءً على القسم الحالي
  - واجهة مستخدم محسنة
  - دعم القوائم الفرعية

### 5. لوحة التحكم المطورة (Dashboard.tsx)
- **المسار**: `/src/components/Dashboard.tsx`
- **التحديثات**:
  - ربط الإجراءات السريعة بالقائمة الجانبية
  - تحديث القسم تلقائياً عند النقر
  - إعادة تعيين القائمة للوضع الافتراضي في الصفحة الرئيسية

### 6. التطبيق الرئيسي (App.tsx)
- **المسار**: `/src/App.tsx`
- **التحديث**: إضافة SidebarProvider لتغطية التطبيق بالكامل

## كيف يعمل النظام

### 1. عند دخول المستخدم للصفحة الرئيسية:
- القائمة الجانبية تعرض القائمة الافتراضية
- تحتوي على الإعدادات الأساسية، العمليات، إدارة الأفراد، والمخازن

### 2. عند النقر على "الإدارة المالية":
- يتم تحديث context إلى `financial`
- القائمة الجانبية تتغير لتظهر:
  - الحسابات المالية (دليل الحسابات، حسابات العملاء، الخ)
  - العمليات المالية (قيود يومية، سندات قبض، الخ)
  - التقارير المالية (الميزان العمومي، قائمة الدخل، الخ)

### 3. عند النقر على "الموارد البشرية":
- يتم تحديث context إلى `hr`
- القائمة الجانبية تتغير لتظهر:
  - إدارة الموظفين (بيانات الموظفين، الأقسام، الحضور)
  - الرواتب والمكافآت (إعداد الرواتب، صرف الرواتب، البدلات)
  - تقارير الموارد البشرية

### 4. نفس النمط يطبق على جميع الأقسام الأخرى

## المميزات الجديدة

### 1. تصميم تفاعلي:
- رسوم متحركة سلسة عند تغيير القوائم
- أيقونات ملونة مميزة لكل قسم
- واجهة مستخدم حديثة ومريحة

### 2. تنظيم محتوى متقدم:
- كل قسم له قائمة مخصصة
- تجميع منطقي للوظائف
- روابط مباشرة للصفحات

### 3. قابلية التوسع:
- سهولة إضافة أقسام جديدة
- إمكانية تخصيص القوائم لكل قسم
- بنية كود منظمة وقابلة للصيانة

## طريقة الاستخدام

1. ادخل للصفحة الرئيسية
2. انقر على أي من الإجراءات السريعة (مثل "الإدارة المالية")
3. ستلاحظ تغيير القائمة الجانبية تلقائياً لتظهر عناصر مخصصة لهذا القسم
4. يمكنك التنقل بين العناصر المختلفة في القائمة الجانبية
5. عند العودة للصفحة الرئيسية، ستعود القائمة للوضع الافتراضي

## الفوائد

- **تحسين تجربة المستخدم**: القائمة تظهر فقط ما يحتاجه المستخدم
- **تنظيم أفضل**: كل قسم له قائمة مختصة
- **سرعة في الوصول**: روابط مباشرة للوظائف المطلوبة
- **واجهة نظيفة**: تجنب الفوضى في القائمة الجانبية
